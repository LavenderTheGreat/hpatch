<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>'H'Patch</title>
		<link rel="stylesheet" href="https://unpkg.com/chota@latest">
		<link rel="stylesheet" href="https://anydir.github.io/styles/index.css">
		<link rel="stylesheet" href="index.css">
		<script src="index.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/fast-xml-parser/3.16.0/parser.min.js"></script>
		<script src="FileSaver.js"></script>
	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="col-12" style="font-size: 10rem; text-align:center;">â–½</div>
			</div>
			<div class="row">
				<div class="col-12 anydir-logo">HPATCH</div>
			</div>
			<div class="row">
				<div class="col-12" style="text-align:center"><div class="djh-main">The H is short for Hero btw</div><br>A tool for patching various DJ Hero 2 XMLs.</div>
			</div>
			
			<!--  -->
			<div class="row djh-main">
				<div class="col-12">
					Currently has various tweaks for the global variable XML file, which allows various tweaks to gameplay, display and audio effects.
					<br>
					<br>
					<div class="smalltext" style="text-align:center"><i>Need help? <a href="https://discord.gg/PWE5GT2"><b>Join the DJ Hero Discord!</b></a></i></div>
					<br>
					<br>
					XML file to patch:
					<br>
					<input type="file" id="input" name="input" accept="text/xml">
					<br>
				</div>
			</div>
			
			<!-- Global Attributes Editor -->
			<div class="row djh-main">
				<div class="col-12">

					<!-- In-game -->

					<h1>In-Game</h1>
					<div class="smalltext">
						<i>Tweaks relating to gameplay UI.</i>
					</div>
					<br>

					DivideMod (For Deckspeed)<input type="ga_ig_dividemod" id="ga_ig_dividemod" name="input" value="2">
					<br>
					<div class="smalltext">
						DivideMod is similar to xmod but divides instead of multiplies deck speed. It defaults to half speed (2), so to get an xmod from it you can do 2 divided by your desired xmod.
						<br>
						<i>Float</i>
					</div>
					<br>

					Highway width<input type="number" id="ga_ig_highwaywidth" name="ga_ig_highwaywidth" value="-1.5">
					<br>
					<div class="smalltext">
						Highway width <b>does not work as one would expect.</b> Lane widths are constrained by the full width of the lane itself, so stretching it can cause weird artifacts.
						<br>
						<i>Float</i>
					</div>
					<br>

					<input type="checkbox" id="ga_ig_cpdebug" name="ga_ig_cpdebug"> Use checkpoint debug
					<br>
					<div class="smalltext">
						Checkpoint debug shows a dialog similar to judge display in games like Etterna next to the lane. It shows live hit percents and the judgements obtained.
						<br>
						<i>Boolean</i>
					</div>
					<br>

					<input type="checkbox" id="ga_ig_rpercent" name="ga_ig_rpercent"> Use 'Running Percent'
					<br>
					<div class="smalltext">
						A boolean similar to Checkpoint Debug which adds a more detailed hit percentage at the corner of the screen. Useful for more precise scoring info.
						<br>
						<i>Boolean</i>
					</div>
					<br>
					
					<input type="checkbox" id="ga_ig_flipleft" name="ga_ig_flipleft"> Flip deck (Buttons left)
					<br><br>
					<input type="checkbox" id="ga_ig_flipright" name="ga_ig_flipright"> Flip deck (Buttons right)
					<br>
					<div class="smalltext">
						Flips the deck for various button configurations.
						<br>
						<i>Boolean</i>
					</div>
					<br>

					<h2>Gems</h2>
					<div class="smalltext">
						<i>Tweaks relating to 'gems', ie the notes on the highway.</i>
					</div>
					<br>

					<input type="checkbox" id="ga_ig_gem_debug" name="ga_ig_gem_debug"> Use debug rendering
					<br>
					<div class="smalltext">
						Debug rendering turns gems into stacks of coloured squares representing the geometry.
						<br>
						<i>Boolean</i>
					</div>
					<br>

					Gem height<input type="ga_ig_gem_height" id="ga_ig_gem_height" name="input" value="0.009">
					<br>
					<div class="smalltext">
						Gem height is the height the gem renders at. Keep in mind that gems <b>are made of layers</b> so setting this really high will just split the layers really far.
						<br>
						<i>Float</i>
					</div>
					<br>

					Gem radius<input type="ga_ig_gem_radius" id="ga_ig_gem_radius" name="input" value="0.055">
					<br>
					<div class="smalltext">
						Gem radius is the width of gems, a higher radius will be wider and etc.
						<br>
						<i>Float</i>
					</div>
					<br>

					Euphoria gem glow size<input type="ga_ig_gem_euphoriaradius" id="ga_ig_gem_euphoriaradius" name="input" value="0.098">
					<br>
					<div class="smalltext">
						During euphoria, gems have a white glow below them. Use this to adjust the size of the glow.
						<br>
						<i>Float</i>
					</div>
					<br>

					Scratch icon radius<input type="ga_ig_gem_scratchradius" id="ga_ig_gem_scratchradius" name="input" value="0.045">
					<br>
					<div class="smalltext">
						This changes the radius of the ðŸœ‚, ðŸœ„, â‡‘, â‡“ and â¥® icons in scratchzones. Does not affect the one at the start of a freestyle scratch zone.
						<br>
						<i>Float</i>
					</div>
					<br>

					Gem inner ring width<input type="ga_ig_gem_innerradius" id="ga_ig_gem_innerradius" name="input" value="0.004">
					<br>
					<div class="smalltext">
						This changes the size of the upper portion of the gem. Presumably in proportion to the standard radius.
						<br>
						<i>Float</i>
					</div>
					<br>

					<!-- Audio -->

					<h1>Audio</h1>
					<input type="checkbox" id="ga_au_freestyle" name="ga_au_freestyle" checked=true> Allow freestyle samples
					<br>
					<div class="smalltext">
						Self explanatory.
						<br>
						<i>Boolean</i>
					</div>

					<!-- Menu -->

					<h1>Menu</h1>
					<input type="checkbox" id="ga_ui_swapicon" name="ga_ui_swapicon" checked=true> Use â‡Œ instead of â•± on the song select
					<br>
					<div class="smalltext">
						A personal preference tweak. â•± is more akin to what is used in music uploads rather than â‡Œ which is more distinct.
						<br>
						<i>Boolean</i>
					</div>
					<br>

					<input type="checkbox" id="ga_ui_dropshadoweverywhere" name="ga_ui_dropshadoweverywhere"> Apply drop shadows to every piece of text in the menu
					<br>
					<div class="smalltext">
						Can up the contrast of white pieces of text if you have trouble reading them, however makes black text much harder to read. Only applies to the main menu.
						<br>
						<i>Boolean</i>
					</div>
				</div>
			</div>
			
			<div class="row">
				<div class="col-12" style="text-align:center">
					<br>
					<button type="button" onclick="patchXML()">PATCH</button>
					<br><br>
					<div class="smalltext"><i>HPATCH has been made possible due to the efforts of: 
						<a href="https://github.com/shockdude"><b>Shockdude (Filetype research)</b></a>, 
						<a href="https://soundcloud.com/jummy0"><b>Jummy (Attributes research)</b></a> and 
						<a href="https://twitter.com/lavendertgreat"><b>Lavenfurr (Website creator)</b></a>
					</i>
					<br><br>
					<div class="smalltext"><i>Special thanks to <a href="https://elaztril.surge.sh/"><b>Jamie</b></a> for debugging!
					</i>
					<br><br>
					<i>HPATCH uses the following technology: 
						<a href="https://github.com/jenil/chota"><b>Chota (For CSS)</b></a>, 
						<a href="https://github.com/eligrey/FileSaver.js/pull/629"><b>FileSaver.js (E-train-liu PR, for XML downloading)</b></a>,
						<a href="https://github.com/NaturalIntelligence/fast-xml-parser"><b>Fast XML Parser (For XML tweaking)</b></a>, 
						<a href="https://unpkg.com"><b>UnPKG</b></a> and 
						<a href="https://cdnjs.com"><b>cdnJS</b></a>
						
					</i>
					<br><br>
					<i>The licenses for this technology can be found at  
						<a href="https://github.com/lavenderthegreat/hpatch/licences"><b>hpatch/licences</b></a>
					</i>
					<br><br>
					<i>DJ Hero is Copyright (c) FreeStyleGames and Activision 2010</i>
				</div>
			</div>
		</div>
	</body>
</html>
